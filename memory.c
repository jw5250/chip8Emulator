#ifndef MEMORY_C_INCLUDED
#define MEMORY_C_INCLUDED
#include "memory.h"
#include "dataType.h"
#include <stdlib.h>
#define MEMSIZE 4096
#define FONT_BYTE_LENGTH 80

//memory array will be moved into the memory.c file once I finish testing all of the instructions.
byte* memory;

	//Data represents 4x5 sprites from 0 to F.
byte fontData[FONT_BYTE_LENGTH] = {
				0xF0, 0x90, 0x90, 0x90, 0xF0, 
				0x20, 0x60, 0x20, 0x20, 0x70,
				0xF0, 0x10, 0xF0, 0x80, 0xF0,
				0xF0, 0x10, 0xF0, 0x10, 0xF0,
				0x90, 0x90, 0xF0, 0x10, 0x10,
				0xF0, 0x80, 0xF0, 0x10, 0xF0,
				0xF0, 0x80, 0xF0, 0x90, 0xF0,
				0xF0, 0x10, 0x20, 0x40, 0x40,
				0xF0, 0x90, 0xF0, 0x90, 0xF0,
				0xF0, 0x90, 0xF0, 0x10, 0xF0,
				0xF0, 0x90, 0xF0, 0x90, 0x90,
				0xE0, 0x90, 0xE0, 0x90, 0xE0,
				0xF0, 0x80, 0x80, 0x80, 0xF0,
				0xE0, 0x90, 0x90, 0x90, 0xE0,
				0xF0, 0x80, 0xF0, 0x80, 0xF0,
				0xF0, 0x80, 0xF0, 0x80, 0x80
				};
int initMemory(){
	memory = (byte*)malloc(MEMSIZE*sizeof(byte));
	if(memory == NULL){
		return memory != NULL;
	}
	//Reserve first 180 bytes of memory to font data.
	for(int i = 0; i < FONT_BYTE_LENGTH; i++){
		memory[i] = fontData[i];
	}
	return memory != NULL;
}

int memoryExists(){
	return memory != NULL;
}
byte readMemory(register int address){
	return memory[address];
}
void writeMemory(register word address, register byte value){
	memory[address.WORD] = value;
}
#endif
